<div class="login-container">
  @if (!signupMode) {
    <h2>Connexion</h2>
  }
  @if (signupMode) {
    <h2>Créer un compte</h2>
  }

  <form (ngSubmit)="submit()">
    @if (signupMode) {
      <div class="form-group">
        <label>Firstname</label>
        <input [(ngModel)]="firstname" name="firstname" class="form-control" />
      </div>
    }
    @if (signupMode) {
      <div class="form-group">
        <label>Lastname</label>
        <input [(ngModel)]="lastname" name="lastname" class="form-control" />
      </div>
    }

    <div class="form-group">
      <label>Login</label>
      <input [(ngModel)]="login" name="login" class="form-control" />
    </div>

    <div class="form-group">
      <label>Mot de passe</label>
      <input
        type="password"
        [(ngModel)]="password"
        name="password"
        class="form-control"
      />
    </div>

    @if (error) {
      <div class="error">{{ error }}</div>
    }

    <button class="btn btn-primary" type="submit">
      @if (signupMode) {
        Créer le compte
      } @else {
        Se connecter
      }
    </button>
    <button type="button" class="btn btn-link" (click)="toggleSignup()">
      @if (signupMode) {
        J'ai déjà un compte
      } @else {
        Créer un compte
      }
    </button>
  </form>
</div>
